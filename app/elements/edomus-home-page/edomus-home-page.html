<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../styles/shared-styles.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../../bower_components/iron-icons/av-icons.html">
<link rel="import" href="../../bower_components/iron-icons/editor-icons.html">
<link rel="import" href="../../bower_components/paper-collapse-item/paper-collapse-item.html">

<dom-module id="edomus-home-page">

    <style include="shared-styles">
      :host {
        display: block;

        --iron-icon-fill-color: #F62D51;

        --paper-collapse-item-header: {
          font-weight: 600;
          padding: 0 20px;
          color: #424242;
          background-color: #f7f7f7;
          cursor: default;
        };

        --paper-collapse-item-content: {
          border: 1px solid #f7f7f7;
          padding: 15px;
          color: #424242;
        };
      }

      iron-image {
        display: block;
      }

      iron-image::shadow img{
        max-width: 100%;
      }

      .hero .hero-text {
        padding-bottom: 50px;
      }

      .hero-text h1 {
        line-height: 1em;
        max-width: 400px;
      }

      .hero-text h2 {
        max-width: 500px;
      }

      .hero-text strong {
        max-width: 400px;
      }

      .how-section {
        padding-top: 80px;
        color: #6c747f;
      }

      .how-question,
      .how-end-title {
        text-transform: uppercase;
        font-weight: 500;
      }

      .how-end-title {
        padding-top: 20px;
      }

      .how-section iron-icon {
        --iron-icon-width: 50px;
        --iron-icon-height: 50px;
      }

      .how-section iron-icon.aspect-ratio {
        --iron-icon-width: 40px;
        --iron-icon-height: 40px;
      }

      .question-start-section {
        padding: 20px 0;
      }

      .how-section .how-step-left.col {
        border-right: 3px dashed hsla(205, 85%, 92%, 1);
        min-height: 550px;
        position: relative;
      }

      .how-section .how-step-left:after {
        display: block;
        content: "";
        height: 50px;
        width: 50px;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        border-radius: 50%;
        background-color: hsla(205, 85%, 92%, 1);
        position: absolute;
        right: -28px;;
        top: 50%;
        margin-top: -25px;
      }

      .how-step-right {
        padding-top: 80px;
      }

      .how-step-content iron-icon {
        margin-bottom: 6px;
      }

      .how-step-title {
        color: #F62D51;
        font-size: 35px;
        margin-top: 0;
        max-width: 450px;
      }

      .how-step-description {
        max-width: 450px;
        margin: 0;
      }

      .how-section .question-end-section {
        margin-top: 24px;
      }

      .how-section .question-end-section .icon-done {
        background-color: hsla(205, 85%, 92%, 1);
        width: 50px;
        height: 50px;
        margin: 0 auto;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        border-radius: 50%;
        padding: 5px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }

      .features-section {
        padding: 100px 0 60px;
      }

      .features-section .features-divider {
          margin-bottom: 60px;
      }

      .features-section .features-divider iron-icon {
          width: 27px;
          height: 27px;
      }

      .features-section .features-title,
      .faq-section .faq-title{
        font-size: 40px;
        letter-spacing: 1px;
      }

      .features-section .feature {
        margin-top: 70px;
      }

      .features-section .feature .feature-icon {
        height: 100px;
        width: 100px;
        border: 3px solid #F62D51;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        border-radius: 50%;
      }

      .features-section .feature .feature-icon iron-icon {
        height: 50px;
        width: 50px;
      }

      .features-section .feature .feature-title {
        padding-top: 20px;
        text-align: center;
        font-weight: 500;
        text-transform: uppercase;
      }

      .features-section .feature .feature-description {
        padding-top: 10px;
        text-align: center;
        color: #6c747f;
        margin: 0;
      }

      .last-chance {
        padding-bottom: 100px;
      }

      .last-chance .last-chance-title {
        font-size: 30px;
        line-height: 40px;
        font-weight: 300;
        padding-bottom: 10px;
      }

      .faq-section {
        padding-bottom: 100px;
        padding-top: 60px
      }

      .faq-section .faq-title {
        margin-bottom: 48px;
      }

      paper-collapse-item::shadow paper-item{
        padding: 0;
      }

      paper-collapse-item::shadow paper-item:focus:before {
        background: transparent;
      }

      @media all and (min-width: 994px) {
        .how-step-right {
          margin-left: 8.33333%;
        }
      }

      @media all and (max-width: 993px) {
        .is-updated-below-993.layout.horizontal{
          display: block;
        }

        .how-section .how-step-left.col {
          margin-right: 48px;
          min-height: initial;
          padding: 120px 0 100px;
        }
      }

      @media only all and (min-width: 768px){
        .hero-text {
            width: 41.66667%;
            margin-left: 0;
        }
      }
    </style>

    <template>
      <div class="hero">
        <div class="row layout horizontal center is-updated-below-767">
          <div class="col flex-none hero-text">
            <div class="container-wide">
              <h1>Buying a home is complicated, don't fly blind! Use eDomus to learn the process</h1>
              <h2>Buying a home can be overwhelming, and we want to help make it more manageable.
                eDomus aims to help you understand the process through our free course,
                while also connecting you with a high quality realtor.</h2>
              <paper-button class="btn btn-large sign-up-btn" raised on-tap="_handleSignupClick">Join Closed Beta</paper-button>
            </div>
          </div>
          <div class="flex hero-img-col">
            <div class="hero-img">
              <iron-image src="[[baseurl]]/images/editor.png" alt="Sign Up Now"></iron-image>
            </div>
          </div>
        </div>
      </div>

      <div class="how-section">
        <div class="how-question text-center">How does eDomus work?</div>
        <div class="text-center question-start-section">
          <iron-icon icon="icons:aspect-ratio" class="aspect-ratio"></iron-icon>
        </div>

        <template is="dom-repeat" items="[[howSteps]]" as="step">
          <div class="how-step row layout horizontal is-updated-below-993">
            <div class="how-step-left col flex layout horizontal center">
              <div class="container-wide">
                <div class="how-step-content">
                  <iron-icon icon="[[step.iconName]]"></iron-icon>
                  <h3 class="how-step-title">[[step.title]]</h3>
                  <p class="how-step-description"><echo-html html="{{step.description}}"></echo-html></p>
                </div>
              </div>
            </div>
            <div class="col flex layout horizontal center">
              <div class="how-step-right">
                <iron-image src="[[baseurl]]/images/[[step.image]]" alt="[[step.title]]"></iron-image>
              </div>
            </div>
          </div>
        </template>

        <div class="text-center question-end-section">
          <iron-icon icon="icons:done" class="icon-done"></iron-icon>
        </div>
        <div class="how-end-title text-center">PURCHASE A HOME</div>
        <div class="text-center">
          <paper-button class="btn btn-large sign-up-btn" raised on-tap="_handleSignupClick">Join Closed Beta</paper-button>
        </div>
      </div>

      <div class="features-section" id="features">
        <div class="container-wide">
          <div class="features-divider text-center">
            <iron-icon icon="communication:clear-all"></iron-icon>
          </div>
          <div class="features-title text-center">Features</div>
          <div class="features-container text-center">
            <div class="row layout horizontal is-updated-below-993">
              <div class="flex layout horizontal is-updated-below-767">
                <div class="col flex feature">
                  <div class="feature-icon layout inline center-center">
                    <iron-icon icon="av:games"></iron-icon>
                  </div>
                  <div class="feature-title">Gamified Experience</div>
                  <p class="feature-description">Learning doesn't have to be boring! eDomus is designed to be fun, and thus incorporates game elements into our course.
                    Each video has a point value attached to it that you can earn after watching 50% of the video. Additionally you can earn badges from doing certain actions and play mini games in between certain videos.</p>
                </div>
                <div class="col flex feature">
                  <div class="feature-icon layout inline center-center">
                    <iron-icon icon="editor:attach-money"></iron-icon>
                  </div>
                  <div class="feature-title">Get Paid to Learn</div>
                  <p class="feature-description">After purchasing a home with a eDomus certified realtor,
                    you'll have the ability to exchange the points that you earned during the course for money.
                    On an average home purchase you'd earn $160 back on your purchase as a result of taking our course.</p>
                </div>
              </div>
              <div class="flex layout horizontal is-updated-below-767">
                <div class="col flex feature">
                  <div class="feature-icon layout inline center-center">
                    <iron-icon icon="av:loop"></iron-icon>
                  </div>
                  <div class="feature-title">Work with a high quality realtor</div>
                  <p class="feature-description">After completing the course, we connect you to a eDomus certified realtor that services the area that you're looking to purchase in.
                    In order to get certified, eDomus realtors go through a rigorous process by which they demonstrate that they have knowledge of their local community, have expert negotiating skills and are a high quality realtor.</p>
                </div>
                <div class="col flex feature">
                  <div class="feature-icon layout inline center-center">
                    <iron-icon icon="av:airplay"></iron-icon>
                  </div>
                  <div class="feature-title">Understand the Process</div>
                  <p class="feature-description">Our hope is that after taking our course, you'll be able to understand the process of purchasing a home. This includes understanding how much you can afford to spend, credit, mortgages, how to work with a realtor and what happens at the closing table.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-wide">
        <div class="faq-section" id="faqs">
          <div class="faq-title text-center">FAQs</div>
          <template is="dom-repeat" items="[[faqs]]" as="faq">
            <paper-collapse-item header="[[faq.question]]">[[faq.answer]]</paper-collapse-item>
          </template>
        </div>
      </div>

      <div class="container-wide last-chance text-center">
        <div class="last-chance-title">
          <div>Don't fly blind! Learn the process of buying a home.</div>
        </div>
        <paper-button class="btn btn-large sign-up-btn" raised on-tap="_handleSignupClick">Join Closed Beta</paper-button>
      </div>

    </template>

    <script>

        Polymer({
            is: 'edomus-home-page',

            properties: {
              baseurl: {
                type: String,
                value: ''
              },

              howSteps: {
                type: Array,
                value: [
                  {
                    "iconName": "icons:view-carousel",
                    "title": "Sign Up",
                    "description": "The first step in the process is signing up for the eDomus course. After signing up and indicating the market you're looking to purchase in, we can get you started on the process of buying a home.",
                    "image": "timeline-1.png"
                  },
                  {
                    "iconName": "icons:dashboard",
                    "title": "Take the Course",
                    "description": "After signing up, you'll start taking our course. The majority of eDomus's course uses videos and a few games to teach you the process of purchasing a home. You'll learn how to calculate how much you can afford, understand credit and mortgages, understand how to work with a realtor and understand what happens at the closing table.",
                    "image": "timeline-2.png"
                  },
                  {
                    "iconName": "icons:turned-in",
                    "title": "Connect With a Realtor",
                    "description": "After completing our course, we'll connect you with a eDomus certified realtor who will help you purchase a home. If you purchase a home with the eDomus realtor you'll be able to get a rebate of on average $160 on your home purchase as a reward for taking our course.",
                    "image": "timeline-3.jpg"
                  }
                ]
              },

              faqs: {
                type: Array,
                value: [
                  {
                    "question": "What areas are you available in?",
                    "answer": "Our closed beta is currently only available in New York and Florida. We plan to launch in all markets when we leave beta."
                  },
                  {
                    "question": "Will you be offering a home selling course?",
                    "answer": "Yes! Our plan is to offer a course for people trying to sell their home once we leave beta and officially launch."
                  },
                  {
                    "question": "How long is the course?",
                    "answer": "The eDomus homebuyer's education course is 3 hours long."
                  },
                  {
                    "question": "Why should I trust the information in your course?",
                    "answer": "Our team has over 50+ years of experience in the real estate industry, and have a vast amount knowledge on the home buying process. We’ve put together this course in an attempt to give back and help educate people on how to buy a home."
                  },
                  {
                    "question": "I’m a realtor, how do I get eDomus certified?",
                    "answer": "Contact us at the bottom of this page. We’ll get back to you with all the information on how to get eDomus certified."
                  },
                  {
                    "question": "Is this really free? What’s the catch?",
                    "answer": "Yes! Our course is 100% free for you to use, no catch! We want to give back, and help make it easier for you to buy a home."
                  },
                  {
                    "question": "Wait, How are you paying me to take this course?",
                    "answer": "Yup! If you purchase a home with an eDomus certified realtor, we take a portion of the realtors commision and rebate it back to you."
                  }
                ]
              }
            },

            _handleSignupClick: function () {
              this.fire("edomus-signup-click");
            }
        });

    </script>

</dom-module>

<dom-module id="echo-html">

  <template>{{html}}</template>

  <script>
    Polymer({
      is: 'echo-html',
      properties: {
          html: {
              type: String,
              value: 'html'
          }
      },
      ready: function() {
          this.innerHTML = this.html;
      }
    });
  </script>

</dom-module>
